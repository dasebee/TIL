# 함수

[자바스크립트 완변 가이드] 함수 파트 

----------------

+ 함수(function)는 함 번 정의하면 몇 번이든 실행할 수 있고 호출할 수 있는 자바스크립트 코드 블록이다. 
+ 함수는 매개변수(parameter)를 가질 수 있는데, 매개변수는 함수 내에서 지역변수처럼 취급된다. 
+ 함수 호출 시에는 함수의 매개변수에게 값, 인자(arguments)들을 제공한다. 
+ 어떤 객체의 프로퍼티로 할당된 함수를 해당 객체의 메서드라고 한다. 
+ 어떤 함수를 객체를 대상으로, 또는 객체를 통해서 호출하면  이 객체는 호출된 함수의  this값이 된다. 
+ 새로 생성된 객체를 초기화하는 데 쓰이는 함수는 생성자(constructor)라고 한다. 
+ 함수는 다른 함수 내에 중첩되어 정의될 수 있고, 중첩된 함수는 해당 함수가 정의된 유효범위 안의 어떤 변수에도 접근할 수 있다. 

---------

## 1. 함수 정의하기

+ 함수는 function 키워드에 의해 정의되며, function 키워드는 함수 정의 표현식 또는 함수 선언문에서 사용된다. 
+ __함수 이름 식별자__ : 함수 이름은 곧 변수의 이름, 새로 정의된 함수 객체는 그 변수에 할당된다. 
+ __쉼표로 구분된 0개 이상의 식별자들과, 이 식별자들을 둘러싼 한 쌍의 괄호.__  : 매개변수, 함수 내에서 지역 변수처럼 취급. 
+ __중괄호{}__ : 중괄호 안에 포함된 자바스크립트 문장들은 함수가 호출될 때마다 실행되는 함수 본문이다. 

```javascript
//함수 정의 
function printprops(o){
  for(var p in o){
    console.log(p+":"+o[p]+'\n');
  }
}
var square = function(x) {return x*x;}
```

+ 함수의 이름 : 함수를 잘 설명할 수 있는 이름을 선택하면 가독이나 유지보수에 좋다. 보통 함수의 이름은 동사형태. 내부적으로 사용하거나 또는 숨은 함수의 이름은 밑줄로 시작. 
+ return : 함수 실행을 중단하고, return 다음에 오는 표현식의 값을 호출자에게 반환. return 다음에 표현식이 없거나 함수가 return문을 포함하지 않는다면 undefined를 반환한다. 

### 1-1. 중첩함수

+ 자바스크립트에서 함수는 다른 함수와 중첩될 수 있다. 

``` javascript
function hypotenuse(a,b){
  function square(x) {return x*x;}
  return Math.sqrt(square(a)+square(b));
}
```

+ 중첩된 함수는 해당 함수가 속한 함수의 매개변수와 변수에 접근 가능. 

-----------

## 2. 함수 호출하기

### 2-1. 함수 호출 

+ 일반적인 함수 형태로 호출 되거나 호출 표현식(예 :`Math.max(x,y,z)`,`a.sort()`)과 함께 메서드 형태로 호출된다. 
+ 메서드 호출 표현식 : 함수 표현식이 프로퍼티 접근 표현식(함수가 어떤 객체의 프로퍼티이거나 어떤 배열의 요소인 경우)인 경우
+ 호출 표현식의 값은 그 함수의 반환 값. 만약 return 문을 만나지 못하고 함수가 끝나면 반환 값은 undefined. return 다음에 표현식이 없으면 undefined. 

### 2-2. 메서드 호출

+ 메서드:  객체의 속성으로 저장된 함수. 
+ 메서드 호출의 전달인자와 반환 값에 관한 규칙은 일반 함수 호출의 경우와 같다. 
+ 메서드 호출 표현식에서 함수를 호출한 객체가 호출 컨텍스트가 된다. this를 통해서 객체를 참조할 수 있다. 

```javascript
var calculator = {
  operand1: 1,
  operand2: 1,
  add: function(){
    this.result = this.operand1 + this.operand2;
    //여기서 this는 calculator
  }
};
calculator.add();
calculator.result;
```

+ 대괄호를 사용해서도 메서드를 호출 할 수 있다. `o.['m'](x,y)` ===`o.m(x,y)`
+ 메서드 호출법은 그 함수가 해당 객체에 무언가를 한다는 사실을 나타낸다. 
+ 메서드 체이닝(Method Chaining) : 객체 이름은 한 번만 사용하고 메서드는 여러번 호출할 수 있는 방식. 

```javascript
shape.setX(100).setY(100).setSize(50).setOutline('red').setFill('blue').draw();
```

### 2-3. 생성자 호출

+ 함수나 메서드 호출 앞에 new 키워드가 있다면, 생성자 호출
+ 생성자에 매개변수가 없다면, 괄호를 생략할 수 있다. `var o = new Object;`
+ 생성자를 호출하면 생성자의 prototype 프로퍼티를 상속ㅂ다는 새로운 빈 객체를 생성. 
+ 생성자 함수는 새로 생성된 객채를 this 키워드로 참조 가능. 
+ 생성자 함수는 새 객채를 초기화 하고, 그 객체를 반환한다. 이 경우 새 객체가 생성자 호출 표현식의 값. 
+ return을 사용하여 명시적으로 어떠한 객체를 반환하면 그 객체가 생성자 호출 표현식의 값이 된다. 
+ 반환값이 없거나 기본 자료형 값을 반환하면 그 반환값은 무시되고 새로 생성된 객체가 호출 표현식의 값.

### 2-4. 간접 호출

+ 함수의 메서드중 call()과 apply()는 함수를 간접적으로 호출한다.  이떄 this값을 명시적으로 지정하여 어떤 함수든 특정 객체의 메서드로 호출할 수 있다. 

-----------

## 3. 함수 전달인자와 매개변수

+ 함수 정의시 함수 매개변수의 자료형을 명시하지 않고, 호출 시에도 전달하는 인자 값은 자료형을 검사하지 않는다. 전달 인자의 개수도 검사하지 않는다.

### 3-1. 생략 가능한 매개변수 

+ 정의 된 것보다 적은 수 의 전달인자를 받으면 나머지 매개변수는 undefined로 설정. 
+ 생략된 매개변수에 기본 값을 합리적으로 할당해야 한다. 

```javascript
function getPropertyNames(o, a){
  a = a || [];
  for (var property in o){
    a.push(property);
  }
  return a;
}
```

+ 함수 호출시에 첫번째 인자를 생략하고 두번쨰 인자만 전달할 수 없으므로, 생략 가능한 전달인자를 사용하여 함수를 설계할 때, 생략할 수 있는 인자는 전달 인자 목록의 제일 뒤쪽으로 두어야 한다. 

### 3-2. 가변길이 전달인자 목록 : Arguments 객체

+ Arguments 객체는 유사 배열 객체, 이름이 아니라 인덱스 숫자를 통해 함수의 전달인자를 얻어올 수 있다. 
+ 임의 개수의 전달인자를 받는 함수를 작성할 때 유용하다. 

```javascript
function max(){
  var max = Number.NEGATIVE_INFINITY;
  for(var i = 0; i < arguments.length; i++){
    if(arguments[i]>max) {
      max = arguments[i];
    }
  }
  return max;
}
```

### 

