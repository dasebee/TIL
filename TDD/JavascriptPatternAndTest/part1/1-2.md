## 2. 바르게 유지되는 코드 작성하기

### 1) 단위 테스트는 미래에 대비한 투자

+ **단위(unit) **: 특정 조건에서 어떻게 작동해야 할지 정의한 것. 
+ **준비(arrange)  - 실행(act) - 단언(assert) 패턴**

  + 준비: 단위를 실행할 조건을 확실히 정하고, 의존성 및 함수 입력 데이터를 설정
  + 실행: 단위를 실행하여 테스트한다. 단위가 함수면 준비 단계에서 미리 설정한 입력값을 함수에 넘겨 실행
  + 단언: 미리 정한 조건에 따라 예상대로 단위가 작동하는지 확인한다. 
+ 테스트 스위트를 작성하는 것은 앞으로 프로그램이 직면할 갖가지 변화에 대처하기 위한 보험. 안정적인 애플리케이션 위지에 꼭 필요한 투자. 
+ 단위 테스트 실패? \> 어떤 변화로 인해 기존 프로그램의 기능이 바뀌었다는 것을 의미

### 2) 테스트 주도 개발을 실천하라

+ **테스트 주도 개발(Test-Driven Development, TDD)** 

  프로그램을 제대로 작성했는지 확실히 보장한다. <u>코드를 짜기 **전에** 이 코드가 통과해야 할 단위 테스트를 **먼저** 작성</u>한다. 

+ **적색(red), 녹색(green) , 리팩터(refactor) **

  1. 완벽히 변경하면 성공하나 그렇게 되기 전까지는 반드시 실패하는 단위 테스트를 작성
  2. 테스트가 성공할 수 있을 만큼만 '최소한으로' 코딩
  3. 애플리케이션 코드를 리팩토링하여 중복을 제거

### 3) 테스트하기 쉬운 코드로 다듬어라

+ 테스트하기 쉬운 코드를 작성하려면 관심사를 적절히 분리해야 한다.(단일 책임 원칙)
+ 서로 다른 관심사는 작고 간단한 모듈로 나누어 만들면 코드 작성과 테스트, 이해가 쉽다.