## 1. 바르게 시작하는 코드 작성하기

### 1) 자바스크립트 특성을 완벽히 섭렵하라

+ **일급 객체**

  자바스크립트 함수는 일급 객체이다. 다른 함수에 인자로 전달할 수 있고, 다른 함수로부터 함수를 반환받을 수 있으며, 함수 자체를 변수에 할당하거나 자료구조에 저장할 수도 있다.

+ **자바스크립트는 싱글 스레드(single thread)**

  자바스크립트는 어떤 이벤트가 끝나자마자 실행할 함수를 큐에 넣는다. 자바스크립트 엔진은 이벤트 루프에서 한 번에 하나씩 함수를 꺼내서 실행한다. 

  \> 인터럽트나 다른 객체가 변수에 마음대로 접근하는 문제는 신경쓰지 않아도 된다. 프로세서를 독차지할 염려도 없다. 

### 2) 대규모 시스템에서 자바스크립트 함정을 피하라

+ **스크립트는 모듈이 아니다.**

  자바스크립트는 데이터와 함수를 적절히 캡슐화한 모듈을 만드는 방법이 다양하지만 스크립트 파일은 그 방법중 하나가 아니다.

+ **스코프는 중첩 함수로 다스린다.**

  자바스크립트는 함수를 중첩하여 계층화할 수 있다. \> 프로그램에서 변수/함수 스코프를 최소화할 수 있다. 

  클로저를 잘 활용하면 대규모 자바스크립트 시스템에 꼭 필요한, 강력한 도구가 된다. 

+ **규약을 지켜 코딩한다**

  함수 인자에 특정한 조건이 있다면 그 값을 꼭 검증해야 한다. 

  레지스트리는 함수에 따로 코딩을 안 해도 인자 또는 반환값을 확인할 수 있게 해주는 장치.

### 3) 소프트웨어 공학 원칙을 적용하라

+ **SOLID 원칙(객체 지향 설계 원칙) **

  + **Single Responsibility Principle 단일 책임 원칙**

    모든 클랙스(자바스크립트는 함수)는 반드시 한 가지 변경 사유가 있어야 한다.  서로 다른 이유로 변경되는 것들을 잘 분리해야 한다.

  + **Open/Closed Principle 개방/폐쇄 원칙**

    모든 소프트웨어 개체는 확장 가능성은 열어두되 수정 가능성은 닫아야 한다.

    어떤 경우라도 실행 코드를 변경하지 말고, 어떻게든(상속 등의 방법으로) 재사용하고 확장하라.

  + **Liskov Substitution Principle 리스코프 치환 원칙**

    한 객체를 다른 객체에서 파생하더라도 그 기본 로직이 변경되어서는 안 된다.

  + **Interface Segregation Principle 인터페이스 분리 원칙**

    함수가 기대하는 인자가 무엇인지 명확히 하고 그 기대치를 최소화해야 한다. 

  + **Dependency Inversion Principle 의존성 역전 원칙**

    상위 수준 모듈은 하위 수준 모듈에 의존해서는 안 되며 이 둘은 추상화에 의존해야 한다. 

+ **DRY 원칙**

  반복하지 마라 Don't Repeat Yourself!

  + SOLID원칙과 DRY 원칙

    단일 책임 원칙을 어기면 코드를 재상용 할 수 없음 X와 Y가 포함된 모듈이 있다면 X만 필요한 경우 재사용할 수 없으므로 또다시 X를 코딩해야한다. \> DRY 원칙과 맞지 않는다. \> X와 Y를 하는 함수 2개를 모듈에 주입해서 하나의 책임으로 묶어두면 문제 해결이 가능하다.

  + 예제

    ```javascript
     // 1
      var d;
      while (++i < n) {
      d = data[i];
      points.push([+getX.call(this,d,i), +getY.call(this,d,i)]);
      }
      // 2
      while (++i < n) {
        points.push([+getX.call(this, data[i], i), +getY.call(this, data[i], i)]);
      }

    ```

    2에서는 data[i]를 처리하는 것이 반복된다 \>  DRY하지 않다. 

    이런식으로 한번에 한개씩 입력하는 경우 에러가 발생하기 쉽다.